#### GROUP BY 和 ORDER_BY

group by 和 order by在使用时会创建一个临时表，如果数据很多的话会严重影响性能，

解决方法 （但都不能根本上解决问题）

* 增加临时表大小
* 使用下面 SQL_BIG_RESULT

#### SQL_BIG_RESULT

使用 SQL_BIG_RESULT 可以让mysql 临时表直接走磁盘存储，避免多次创建临时表

使用 **SQL_SMALL_RESULT** 告诉mysql使用内存临时表

#### 其它

* 如果关联表太多，尝试增加 `tmp_table_size` 或 `max_heap_table_size`的大小



#### STRAIGHT_JOIN

强制 MySQL 按照**语句中表的顺序**进行连接（忽略优化器的自动排序），常用于 “小表驱动大表” 的手动优化。

```sql
-- 强制先扫描 user 表（左表），再扫描 order 表（右表）
SELECT * FROM user u 
STRAIGHT_JOIN order o ON u.id = o.user_id; 
```